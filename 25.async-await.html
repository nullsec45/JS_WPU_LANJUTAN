<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async await</title>
</head>
<body>
<script>
/*
Ascnchronous Function
Sebuah function yang bekerja secara asynchronous (melalui event loop), yang menghasilkan (implisit) promise sebagai
return value-nya, tapi cara penulisan code-nya menggunakan penulisan yang synchronous (standard).

Fungsi yang berjalan secara asynchronous
Menghasilkan (implisit) promise
Cara penulisannya sama seperti synchronous function (function biasa).

Sebuah async function dapat memiliki keyword await di dalamnya untuk menghentikan sementara eksekusi fungsinya
sambil menunggu promise-nya selesai.
*/
// const coba=new Promise(resolve => { 
//     setTimeout(() => {
//      resolve("selesai") 
//     }, 2000);
// });
// console.log(coba);
// coba.then(() => console.log(coba));

// function cobaPromise(){
//   return  new Promise(resolve => { 
//         setTimeout(() => {
//         resolve("selesai") 
//         }, 2000);
//     });
// }
// const coba=cobaPromise();

// coba.then(() => console.log(coba));
// console.log(coba);

// async function cobaAsync(){
//     const coba=await cobaPromise();
//     console.log(coba);
// }
// cobaAsync();

function cobaPromise(){
    return new Promise((resolve, reject) => {
        const waktu=5000;
        if(waktu < 5000){
            setTimeout(() => {
                resolve("selesai");
            }, waktu);
        }else {
         reject("kelamaan!");
        }
    });
}
// const coba=cobaPromise();
// coba.then(() => console.log(coba)).catch(() => console.log(coba));
async function cobaAsync(){
   try{
    const coba=await cobaPromise();
    console.log(coba);
   }catch(err){
    console.log(err);
   }
}
cobaAsync();

</script>
</body>
</html>